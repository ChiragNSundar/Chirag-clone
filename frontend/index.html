<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Clone Bot - Your Digital Twin</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="logo">
                <div class="logo-icon" id="bot-mood-icon">üòê</div>
                <div class="logo-text-group">
                    <span class="logo-text">AI Clone</span>
                    <span class="mood-text" id="bot-mood-text">Neutral</span>
                </div>
            </div>

            <div class="nav-links">
                <button class="nav-btn active" data-tab="chat">
                    <span class="nav-icon">üí¨</span>
                    <span>Chat</span>
                </button>
                <button class="nav-btn" data-tab="training">
                    <span class="nav-icon">üéì</span>
                    <span>Training Corner</span>
                </button>
                <button class="nav-btn" data-tab="brainmap">
                    <span class="nav-icon">üß†</span>
                    <span>Brain Map</span>
                </button>
                <button class="nav-btn" data-tab="upload">
                    <span class="nav-icon">üì§</span>
                    <span>Import Data</span>
                </button>
                <button class="nav-btn" data-tab="autopilot">
                    <span class="nav-icon">ü§ñ</span>
                    <span>Autopilot</span>
                </button>
                <button class="nav-btn" data-tab="profile">
                    <span class="nav-icon">üë§</span>
                    <span>Profile</span>
                </button>
            </div>

            <div class="sidebar-footer">
                <div class="stats-mini">
                    <span class="stat-label">Training Examples:</span>
                    <span class="stat-value" id="total-examples">0</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Chat Tab -->
            <section class="tab-content active" id="chat-tab">
                <div class="chat-header">
                    <div class="chat-info">
                        <h1>Chat with Your Clone</h1>
                        <p class="subtitle">Test how well your AI twin responds</p>
                    </div>
                    <button class="btn-secondary" id="new-chat-btn">
                        <span>+ New Chat</span>
                    </button>
                </div>

                <div class="chat-container">
                    <div class="messages" id="chat-messages">
                        <div class="welcome-message">
                            <div class="welcome-icon">üëã</div>
                            <h2>Start a Conversation</h2>
                            <p>Send a message to see how your AI clone responds. The more you train it, the more it
                                sounds like you!</p>
                        </div>
                    </div>

                    <div class="chat-input-container">
                        <div class="input-wrapper">
                            <textarea id="chat-input" placeholder="Type a message..." rows="1"></textarea>
                            <button class="send-btn" id="send-btn">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Training Corner Tab -->
            <section class="tab-content" id="training-tab">
                <div class="training-header">
                    <h1>Training Corner</h1>
                    <p class="subtitle">Teach your AI how you communicate</p>
                </div>

                <div class="training-modes">
                    <!-- Interactive Training -->
                    <div class="training-card">
                        <div class="card-header">
                            <h3>üé≠ Interactive Training</h3>
                            <p>Chat with your clone and correct its responses</p>
                        </div>

                        <div class="training-chat">
                            <div class="training-messages" id="training-messages">
                                <div class="training-welcome">
                                    <p>Start a conversation. When the bot responds, you can accept or correct it.</p>
                                </div>
                            </div>

                            <div class="training-input-container">
                                <input type="text" id="training-input"
                                    placeholder="Type something someone might say to you...">
                                <button class="btn-primary" id="training-send-btn">Send</button>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Examples -->
                    <div class="training-card">
                        <div class="card-header">
                            <h3>üìù Add Examples</h3>
                            <p>Manually add conversation examples</p>
                        </div>

                        <div class="example-form">
                            <div class="form-group">
                                <label>What someone said to you:</label>
                                <input type="text" id="example-context" placeholder="e.g., hey what's up">
                            </div>
                            <div class="form-group">
                                <label>How you responded:</label>
                                <input type="text" id="example-response" placeholder="e.g., nm just chillin wbu">
                            </div>
                            <button class="btn-primary" id="add-example-btn">Add Example</button>
                        </div>
                    </div>

                    <!-- Personal Facts -->
                    <div class="training-card">
                        <div class="card-header">
                            <h3>üß† Personal Facts</h3>
                            <p>Things your clone should know about you</p>
                        </div>

                        <div class="facts-section">
                            <div class="facts-list" id="facts-list">
                                <!-- Facts will be populated here -->
                            </div>
                            <div class="add-fact-form">
                                <input type="text" id="new-fact" placeholder="e.g., I love playing guitar">
                                <button class="btn-primary" id="add-fact-btn">Add</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Brain Map Tab -->
            <section class="tab-content" id="brainmap-tab">
                <div class="brainmap-header">
                    <h1>üß† Brain Map</h1>
                    <p class="subtitle">Visualize your AI's personality and predictions</p>
                </div>

                <div class="brainmap-grid">
                    <!-- Personality Radar -->
                    <div class="viz-card">
                        <h3>üìä Personality Traits</h3>
                        <div class="chart-container">
                            <canvas id="personality-radar"></canvas>
                        </div>
                    </div>

                    <!-- Predictions -->
                    <div class="viz-card predictions-card">
                        <h3>üîÆ AI Predictions About You</h3>
                        <div id="predictions-list" class="predictions-list">
                            <p class="empty-state">Train more to unlock predictions!</p>
                        </div>
                    </div>

                    <!-- Word Cloud -->
                    <div class="viz-card wide">
                        <h3>üí¨ Your Vocabulary</h3>
                        <div id="word-cloud" class="word-cloud">
                            <p class="empty-state">Upload chat data to see your word cloud</p>
                        </div>
                    </div>

                    <!-- Stats -->
                    <div class="viz-card">
                        <h3>üìà Training Stats</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-number" id="viz-examples">0</span>
                                <span class="stat-label">Examples</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="viz-facts">0</span>
                                <span class="stat-label">Facts</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="viz-vocab">0</span>
                                <span class="stat-label">Words</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="viz-quirks">0</span>
                                <span class="stat-label">Quirks</span>
                            </div>
                        </div>
                    </div>

                    <!-- Emojis & Quirks -->
                    <div class="viz-card">
                        <h3>üòÄ Top Emojis & Quirks</h3>
                        <div id="emoji-display" class="emoji-display">
                            <p class="empty-state">No emoji data yet</p>
                        </div>
                        <div id="quirks-display" class="quirks-display" style="margin-top: 15px;">
                        </div>
                    </div>
                </div>

                <!-- Memory Timeline -->
                <div class="timeline-section">
                    <h3>üï∞Ô∏è Memory Timeline</h3>
                    <div id="timeline-container" class="timeline-container">
                        <div id="timeline-insights" class="timeline-insights"></div>
                        <div id="timeline-list" class="timeline-list">
                            <p class="empty-state">No memories yet - start training!</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Upload Tab -->
            <section class="tab-content" id="upload-tab">
                <div class="upload-header">
                    <h1>Import Chat Data</h1>
                    <p class="subtitle">Upload your chat exports to train the AI</p>
                </div>

                <div class="upload-cards">
                    <!-- WhatsApp -->
                    <div class="upload-card">
                        <div class="platform-icon whatsapp">üì±</div>
                        <h3>WhatsApp</h3>
                        <p>Export a chat from WhatsApp and upload it here</p>

                        <div class="upload-form">
                            <div class="form-group">
                                <label>Your name in chat:</label>
                                <input type="text" id="wa-name" placeholder="Your name as shown in export">
                            </div>
                            <div class="file-drop" id="wa-drop">
                                <input type="file" id="wa-file" accept=".txt" hidden>
                                <span>üìÑ Drop .txt file or click to browse</span>
                            </div>
                            <button class="btn-primary" id="wa-upload-btn" disabled>Upload</button>
                        </div>
                    </div>

                    <!-- Discord -->
                    <div class="upload-card">
                        <div class="platform-icon discord">üéÆ</div>
                        <h3>Discord</h3>
                        <p>Use DiscordChatExporter to export your chats</p>

                        <div class="upload-form">
                            <div class="form-group">
                                <label>Your Discord username:</label>
                                <input type="text" id="dc-username" placeholder="YourUsername#1234">
                            </div>
                            <div class="file-drop" id="dc-drop">
                                <input type="file" id="dc-file" accept=".json,.csv" hidden>
                                <span>üìÑ Drop .json or .csv file</span>
                            </div>
                            <button class="btn-primary" id="dc-upload-btn" disabled>Upload</button>
                        </div>
                    </div>

                    <!-- Instagram -->
                    <div class="upload-card">
                        <div class="platform-icon instagram">üì∏</div>
                        <h3>Instagram</h3>
                        <p>Download your data from Instagram settings</p>

                        <div class="upload-form">
                            <div class="form-group">
                                <label>Your Instagram username:</label>
                                <input type="text" id="ig-username" placeholder="@yourusername">
                            </div>
                            <div class="file-drop" id="ig-drop">
                                <input type="file" id="ig-file" accept=".json" hidden>
                                <span>üìÑ Drop messages.json file</span>
                            </div>
                            <button class="btn-primary" id="ig-upload-btn" disabled>Upload</button>
                        </div>
                    </div>
                </div>

                <div class="upload-results" id="upload-results"></div>
            </section>

            <!-- Autopilot Tab -->
            <section class="tab-content" id="autopilot-tab">
                <div class="autopilot-header">
                    <h1>ü§ñ Social Autopilot</h1>
                    <p class="subtitle">Let your AI clone respond on Discord and Telegram</p>
                </div>

                <div class="autopilot-grid">
                    <!-- Discord -->
                    <div class="autopilot-card">
                        <div class="platform-icon discord">üéÆ</div>
                        <h3>Discord</h3>
                        <p>Auto-reply to DMs and mentions</p>

                        <div class="autopilot-status" id="discord-status">
                            <span class="status-dot offline"></span>
                            <span>Not configured</span>
                        </div>

                        <div class="autopilot-controls">
                            <label class="toggle-switch">
                                <input type="checkbox" id="discord-dms-toggle">
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Auto-reply DMs</span>
                            </label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="discord-mentions-toggle">
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Auto-reply Mentions</span>
                            </label>
                        </div>

                        <button class="btn-primary" id="discord-start-btn">Start Discord Bot</button>
                    </div>

                    <!-- Telegram -->
                    <div class="autopilot-card">
                        <div class="platform-icon telegram">‚úàÔ∏è</div>
                        <h3>Telegram</h3>
                        <p>Auto-reply to private messages</p>

                        <div class="autopilot-status" id="telegram-status">
                            <span class="status-dot offline"></span>
                            <span>Not configured</span>
                        </div>

                        <div class="autopilot-controls">
                            <label class="toggle-switch">
                                <input type="checkbox" id="telegram-toggle">
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Auto-reply enabled</span>
                            </label>
                        </div>

                        <button class="btn-primary" id="telegram-start-btn">Start Telegram Bot</button>
                    </div>
                </div>

                <!-- Reply Log -->
                <div class="autopilot-log">
                    <h3>üìú Recent Auto-Replies</h3>
                    <div id="autopilot-log-list" class="log-list">
                        <p class="empty-state">No auto-replies yet</p>
                    </div>
                </div>
            </section>

            <!-- Profile Tab -->
            <section class="tab-content" id="profile-tab">
                <div class="profile-header">
                    <h1>Personality Profile</h1>
                    <p class="subtitle">How your AI clone understands you</p>
                </div>

                <div class="profile-cards">
                    <div class="profile-card">
                        <h3>üè∑Ô∏è Identity</h3>
                        <div class="form-group">
                            <label>Your Name / Nickname:</label>
                            <div class="name-input-group">
                                <input type="text" id="bot-name" placeholder="Enter your name">
                                <button class="btn-primary" id="save-name-btn">Save</button>
                            </div>
                        </div>
                    </div>

                    <div class="profile-card">
                        <h3>üìä Training Stats</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-number" id="stat-examples">0</span>
                                <span class="stat-label">Training Examples</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="stat-facts">0</span>
                                <span class="stat-label">Personal Facts</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="stat-quirks">0</span>
                                <span class="stat-label">Detected Quirks</span>
                            </div>
                        </div>
                    </div>

                    <div class="profile-card">
                        <h3>üí¨ Detected Typing Quirks</h3>
                        <div class="quirks-list" id="quirks-list">
                            <p class="empty-state">Upload some chats to detect your typing patterns</p>
                        </div>
                    </div>

                    <div class="profile-card">
                        <h3>üòä Emoji Usage</h3>
                        <div class="emoji-usage" id="emoji-usage">
                            <p class="empty-state">No emoji patterns detected yet</p>
                        </div>
                    </div>

                    <div class="profile-card">
                        <h3>üéöÔ∏è Tone Analysis</h3>
                        <div class="tone-bars" id="tone-bars">
                            <!-- Tone bars will be added dynamically -->
                        </div>
                    </div>

                    <!-- Analytics Dashboard -->
                    <div class="profile-card wide">
                        <h3>üìä Analytics Dashboard</h3>
                        <div class="analytics-grid">
                            <div class="analytics-stat">
                                <span class="analytics-number" id="analytics-conversations">0</span>
                                <span class="analytics-label">Total Chats</span>
                            </div>
                            <div class="analytics-stat">
                                <span class="analytics-number" id="analytics-response-time">0ms</span>
                                <span class="analytics-label">Avg Response</span>
                            </div>
                            <div class="analytics-stat">
                                <span class="analytics-number" id="analytics-confidence">0%</span>
                                <span class="analytics-label">Avg Confidence</span>
                            </div>
                            <div class="analytics-stat">
                                <span class="analytics-number" id="analytics-peak-hour">--</span>
                                <span class="analytics-label">Peak Hour</span>
                            </div>
                        </div>
                        <div id="analytics-topics" class="topic-cloud"></div>
                    </div>

                    <!-- Backup & Export -->
                    <div class="profile-card">
                        <h3>üíæ Backup & Export</h3>
                        <div class="backup-actions">
                            <button class="btn-primary" id="create-backup-btn">Create Backup</button>
                            <button class="btn-secondary" id="export-personality-btn">Export Personality</button>
                        </div>
                        <div id="backup-list" class="backup-list">
                            <p class="empty-state">No backups yet</p>
                        </div>
                    </div>

                    <!-- Settings -->
                    <div class="profile-card">
                        <h3>‚öôÔ∏è Settings</h3>
                        <div class="settings-list">
                            <label class="toggle-switch">
                                <input type="checkbox" id="continuous-learning-toggle">
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Continuous Learning (learn from all chats)</span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Feedback Modal -->
    <div class="modal" id="feedback-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>How would you respond?</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p class="context-label">They said:</p>
                <p class="context-text" id="modal-context"></p>
                <p class="context-label">Bot said:</p>
                <p class="bot-text" id="modal-bot-response"></p>
                <div class="form-group">
                    <label>Your actual response:</label>
                    <input type="text" id="correction-input" placeholder="How would you actually respond?">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="accept-response-btn">‚úì Accept Bot Response</button>
                <button class="btn-primary" id="submit-correction-btn">Submit My Response</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <script src="js/app.js"></script>
</body>

</html>